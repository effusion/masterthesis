\chapter{Lösungsstrategie}

\section{Architekturentscheide}

Anhand der nicht funktionalen Anforderungen und den Qualitätszielen, wurden folgende architekturrelevanten Entscheidungen getroffen.

\begin{table}[H]
	\centering
	\caption{Architekturentscheide}
	\begin{tabular}{ | p{4cm} | p{12cm} | }
		\toprule
		{\textbf{Qualitätsziel}} & {\textbf{Entscheidung}} \\
		\midrule
		Funktionalität, Sicherheit &  Damit der Benuzter nicht merkt, dass die Applikation aktualisiert wird, muss die Applikation gleichzeitig mit mehreren Versionen lauffähig sein. Hierfür werden die Schnittstellen und das Datenbankschema versioniert. Funktionalität wird über sogenannte Feature Toggels gesteuert.\\ \hline
		Änderbarkeit, Modifizierbarkeit & Entwicklers sollen einfach neue Anforderungen der Stakeholder umsetzten können. Deshalb werden bestehende Konzepte angewandt und bereits bekannte Libraries verwendet. Eine Komplexitäterhöhnung wird für die Umsetztung von Continuous Deployment hingenommen. \\ \hline
		Übertragbarkeit, Installierbarkeit &  Um Änderungen und Erweiterungen zeitnahe in Betrieb nehmen zu können, ist eine hoher Automatisierungsgrad notwendig. Daher wird die Applikation mittems Konfigurationsmanagement- und Orchestrierungstools verwaltet. Die Build Server soll nach alles Tests die Applikation automatisch ausrollen mit der Ausnahme eines manuellen Eingriffs für die Freigabe.\\ \hline
		Zuverlässigkeit, Fehlertoleranz &  Das Architektur soll Hochverfügbarkeit und Replikation vorsehen damit ein Ausfall einer Komponente keine Auswirkungen auf die Applikation hat. Des Weiteren soll eine Änderung am Code, Konfiguration oder an der Verteilung keinen Unterbruch des dienstes zur Folge haben.\\
		\bottomrule
	\end{tabular}
\end{table}

\section{Teilprobleme}	

Um eine Software Architektur zu entwicklen welche die gegebenen Anforderungen und Qualitätsziele erfüllten, müssen zuerst die einzelnen Teilprobleme indentifiziert und entsprecheden Lösungen gesucht werden.

\begin{table}[H]
	\centering
	\caption{Teilprobleme}
	\begin{tabular}{ | p{4cm} | p{12cm} | }
		\toprule
		{\textbf{Name}} & {\textbf{Beschreibung}} \\
		\midrule
		Schnittstellen Versionierung & Die Software vor Allem die Schnittstellen ändern sich mit der Zeit. Wird die Applikation nun sehr häufig ausgerollt, muss ein Lösung gefunden werden welche es ermöglicht, dass Schnittstellen einfach versioniert werden können.\\ \hline
		Kommunikations- entkopplung &  Durch die kontinuierliche Installation neuer Versionen der Applikation respektiv deren Teile, muss sichergestellt werden, das keine Anfragen verloren gehen.\\ \hline
		Datenspeicherung &  Die Speicherung erfolgt aktuell in einem relationalen Datenbank System. Es muss überprüft werden ob das System mit ständiger Aktualisierung zurecht kommt, oder ob eine andere Lösung gesucht werden muss.\\ \hline
		Konfigurations Management & Das aktuelle Konfiguration Management über Property files oder Docker Variablen ist für die neue Architektur nicht mehr angemessen. Für die Umsetzung braucht einen Ansatz welcher das setzen automatisch und zentral ermöglicht. \\ \hline
		Deployment Pipeline & Die Jenkins Pipeline kann bereits mehere Instanzen ausrollen jedoch muss im Zuge von Continuous Deployment eine Lösung gefunden werden welche diesen Prozess ohne unterbruch des Services erlaubt. \\
		\bottomrule
	\end{tabular}
\end{table}

\section{Lösungsvariante}

Für die einzelenen Teilprobleme wurden diverse Varianten ausprobiert, prototypisiert und schlussendlich bewertet. Sämltiche Entwurfsentscheide bezüglich Technologien und Konzepten finden sich im Kapitel \ref{entwurfsentscheidungen} .


http://blogs.atlassian.com/2014/04/practical-continuous-deployment/

https://www.thoughtworks.com/insights/blog/architecting-continuous-delivery

https://www.airpair.com/continuous-deployment/posts/continuous-deployment-for-practical-people

https://www.thoughtworks.com/insights/blog/architecting-continuous-delivery

https://www.innoq.com/de/blog/why-restful-communication-between-microservices-can-be-perfectly-fine/

http://microservices.io/patterns/microservices.html

http://scs-architecture.org/vs-ms.html

http://de.slideshare.net/ewolff/rest-vs-messaging-for-microservices

https://www.symfony.fi/entry/versioning-an-api-in-graphql-vs-rest

https://redis.io/commands/rpoplpush

https://redis.io/topics/replication

http://blog.kubernetes.io/2016/04/configuration-management-with-containers.html

https://docs.mongodb.com/v3.2/replication/

https://dzone.com/articles/netflix-oss-spring-cloud-or-kubernetes-how-about-a

http://stackoverflow.com/questions/35998227/can-i-use-kubernetes-as-service-discovery-in-spring-cloud

https://developers.redhat.com/blog/2016/12/09/spring-cloud-for-microservices-compared-to-kubernetes/

http://de.slideshare.net/ewolff/rest-vs-messaging-for-microservices

https://www.innoq.com/de/blog/why-restful-communication-between-microservices-can-be-perfectly-fine/

https://vimeo.com/144746079

https://spring.io/guides/gs/messaging-redis/

https://seanmcgary.com/posts/how-to-build-a-fault-tolerant-redis-cluster-with-sentinel

https://spring.io/guides/gs/centralized-configuration/

https://wiki.jenkins-ci.org/display/JENKINS/zap+plugin

https://www.digitalocean.com/community/tutorials/how-to-create-a-multi-node-mysql-cluster-on-ubuntu-16-04

https://dev.mysql.com/doc/mysql-utilities/1.5/en/utils-task-autofailover.html

\url{https://docs.openshift.com/online/cli_reference/get_started_cli.html}

https://spring.io/guides/gs/spring-boot-docker/

\url{https://docs.openshift.com/online/cli_reference/get_started_cli.html}

https://github.com/OpenShiftDemos/openshift-cd-demo

http://www.sohamkamani.com/blog/2016/06/30/docker-mongo-replica-set/

\url{https://docs.openshift.com/online/using_images/db_images/mysql.html#using-mysql-replication}

https://blog.openshift.com/openshift-3-demo-part-8-rolling-deployments/

http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html

http://dev.mysql.com/doc/refman/5.7/en/trigger-syntax.html

\url{http://mongodb.github.io/mongo-csharp-driver/2.3/reference/bson/mapping/schema_changes/}

\url{https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-1}

\url{https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-2}

\url{https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-3}

https://github.com/graphql-java/todomvc-relay-java

https://github.com/graphql-java/graphql-java

http://www.sohamkamani.com/blog/2016/06/30/docker-mongo-replica-set/

https://kubernetes.io/docs/user-guide/pods/